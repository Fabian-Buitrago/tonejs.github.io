<html>
<head>

	<script type="text/javascript">
		// jshint ignore: start
	</script>
	<title>SCRATCH</title>

	<script type="text/javascript" src="./scripts/jquery.min.js"></script>
	<script type="text/javascript" src="../../Graph/SignalGraph.js"></script>
	<script type="text/javascript" src="./scripts/require.js"></script>


</head>
<body>
	<button>start</button>
	<div id="meter"></div>
	<canvas></canvas>
	<style type="text/css">

		div {
			font-size: 80px;
		}
	</style>
	<script type="text/javascript">

		
		require.config({
			baseUrl : "./",
			"paths" : {
				"Tone" : "../Tone/",
			},
		});

		require(["Tone/source/Oscillator", "Tone/component/AmplitudeEnvelope"],
		function(Noise, Envelope){

			window.envelope = new Envelope({
				attackCurve : "bounce",
				releaseCurve : "step",
				attack : 0.5,
				release : 1
			}).toMaster();

			var noise = new Noise().connect(envelope).start();

			setTimeout(function(){
				envelope.triggerAttackRelease(2);
			}, 1000);

			
			/*function loop(){
				requestAnimationFrame(loop)
				$("#meter").text(source.state);
			}*/


		});
	

	</script>
</body>
</html>